import{v as ee,j as e,B as Z,s as L,f as M,u as W,c as q,b as w,d as R,z as Q,S as re,A as O,R as te,a as se,g as ae,e as ne,p as oe,C as le,l as ie}from"./index-aeofsje5.js";import{a as I,C as j,S as A,u as ue,G as ce,I as pe}from"./ItemPopover-D9l7fd5A.js";import{w as de,u as fe,p as he,a as me,o as ve,i as d,s as ye,h as xe,d as ge,c as je,b as be}from"./partColumnDefs-D6ol5ckr.js";import{T as ke}from"./Table-CeNpIeD5.js";import"./items-RjbLE1iR.js";function p(){return e.jsx("pre",{className:"comparison-neutral",children:" "})}function T({children:r}){return e.jsx("pre",{className:"comparison-neutral",children:r})}function V({children:r}){return e.jsx("pre",{className:"comparison-negative",children:r})}function S({children:r}){return e.jsx("pre",{className:"comparison-positive",children:r})}function B({leftValue:r,rightValue:t}){return r===t?e.jsx(p,{}):r<t?e.jsxs(T,{children:["(+",t-r,")"]}):e.jsxs(T,{children:["(-",r-t,")"]})}function y({leftValue:r,rightValue:t}){return r===t?e.jsx(p,{}):r<t?e.jsxs(V,{children:["+",t-r]}):e.jsxs(S,{children:["-",r-t]})}function v({leftValue:r,rightValue:t}){return r===t?e.jsx(p,{}):r<t?e.jsxs(S,{children:["+",t-r]}):e.jsxs(V,{children:["-",r-t]})}function Ce({leftWeapon:r,rightWeapon:t}){return t.waypoints!==void 0?e.jsx(v,{leftValue:M(r.waypoints,0),rightValue:M(t.waypoints,0)}):e.jsx(y,{leftValue:r.arc??0,rightValue:t.arc??0})}function Ve({leftPropulsion:r,rightPropulsion:t}){return r.burnout!==void 0||t.burnout!==void 0?e.jsx(y,{leftValue:M(r.burnout,0),rightValue:M(t.burnout,0)}):r.type==="Treads"&&t.type==="Treads"?r.siege===t.siege?e.jsx(p,{}):r.siege==="High Siege"?e.jsx(V,{children:"High"}):r.siege==="Siege"&&t.siege===void 0?e.jsx(V,{children:"Standard"}):r.siege===void 0?e.jsx(S,{children:"N/A"}):e.jsx(S,{children:"Standard"}):r.special!==void 0||t.special!==void 0?r.special===t.special?e.jsx(p,{}):r.special===void 0?e.jsx(S,{children:"N/A"}):e.jsx(V,{children:"N/A"}):e.jsx(p,{})}function Se({leftWeapon:r,rightWeapon:t}){return r.minChunks===t.minChunks&&r.maxChunks===t.maxChunks?e.jsx(p,{}):e.jsxs(T,{children:[r.minChunks,"-",r.maxChunks]})}function z({leftWeapon:r,rightWeapon:t}){if(r.critical===void 0||t.critical===void 0||r.criticalType===t.criticalType)return e.jsx(v,{leftValue:r.critical??0,rightValue:t.critical??0});let a;switch(r.criticalType){case j.Blast:a="(Blast)";break;case j.Burn:a="(Burn)";break;case j.Corrupt:a="(Corrup)";break;case j.Destroy:a="(Destro)";break;case j.Detonate:a="(Detona)";break;case j.Impale:a="(Impale)";break;case j.Intensify:a="(Intens)";break;case j.Meltdown:a="(Meltdo)";break;case j.Phase:a="(Phase)";break;case j.Sever:a="(Sever)";break;case j.Smash:a="(Smash)";break;case j.Sunder:a="(Sunder)";break;default:throw"Invalid critical type"}return e.jsx(T,{children:a})}function G({explosive:r,leftWeapon:t,rightWeapon:a}){function l(h){let x=0,f=0;if(h!=null&&h.includes("-")){const g=h.split("-");x=parseInt(g[0]),f=parseInt(g[1])}else h!==void 0&&(x=parseInt(h),f=x);return{average:(f+x)/2,min:x,max:f}}let s,o;r?(s=t.explosionDamage,o=a.explosionDamage):(s=t.damage,o=a.damage);const n=l(s),i=l(o);if(n.average===i.average)return n.min===i.min?e.jsx(p,{}):e.jsxs(T,{children:[n.min,"-",n.max]});function c(h){return h>0?"+"+h:h.toString()}const u=i.min-n.min,m=i.max-n.max;return n.average<i.average?e.jsxs(S,{children:[c(u),"/",c(m)]}):e.jsxs(V,{children:[c(u),"/",c(m)]})}function H({explosive:r,leftWeapon:t,rightWeapon:a}){if(r){if(t.explosionType===a.explosionType||t.explosionType===void 0)return e.jsx(p,{})}else if(t.damageType===a.damageType||t.damageType===void 0)return e.jsx(p,{});function l(s){switch(s){case"Electromagnetic":return"EM";case"Entropic":return"EN";case"Explosive":return"EX";case"Impact":return"I";case"Kinetic":return"KI";case"Phasic":return"PH";case"Piercing":return"P";case"Slashing":return"S";case"Thermal":return"TH"}return""}return e.jsxs(T,{children:["(",l(r?t.explosionType:t.damageType),")"]})}function we({leftPropulsion:r,rightPropulsion:t}){return r.modPerExtra!==void 0&&t.modPerExtra!==void 0?e.jsx(y,{leftValue:r.modPerExtra,rightValue:t.modPerExtra}):r.drag!==void 0&&t.drag!==void 0?e.jsx(v,{leftValue:r.drag,rightValue:t.drag}):e.jsx(p,{})}function De({leftItem:r,rightItem:t}){const a=Math.ceil(r.rating),l=Math.ceil(t.rating);if(a===l)return e.jsx(p,{});if(a<l){let s;return r.ratingString.includes("*")||t.ratingString.includes("*")?s="* +"+(l-a):s="+"+(l-a),e.jsx("pre",{className:"comparison-positive",children:s})}else{let s;return r.ratingString.includes("*")||t.ratingString.includes("*")?s="* -"+(a-l):s="-"+(a-l),e.jsx("pre",{className:"comparison-negative",children:s})}}function K({explosive:r,leftWeapon:t,rightWeapon:a}){function l(n){return n===A.Fine?100:n===A.Narrow?50:n===A.Intermediate?30:n===A.Wide?10:0}function s(n){return n==="Minimal (5)"?5:n==="Low (25)"?25:n==="Medium (37)"?37:n==="High (50)"?50:n==="Massive (80)"?80:0}const o=s(r?a.explosionHeatTransfer:a.heatTransfer);if(o!=0){const n=s(r?t.explosionHeatTransfer:t.heatTransfer);return e.jsx(B,{leftValue:n,rightValue:o})}else{const n=l(r?t.explosionSpectrum:t.spectrum),i=l(r?a.explosionSpectrum:a.spectrum);return e.jsx(B,{leftValue:n,rightValue:i})}}function Te({leftWeapon:r,rightWeapon:t}){if(r.penetration==="Unlimited")return t.penetration==="Unlimited"?e.jsx(p,{}):e.jsx(V,{children:"-Inf."});if(t.penetration==="Unlimited")return e.jsx(S,{children:"+Inf."});function a(o){return o===void 0?0:o.split("/").length}const l=a(r.penetration),s=a(t.penetration);return e.jsx(v,{leftValue:l,rightValue:s})}function Ne({leftItem:r,rightItem:t}){if(r.slot==="Power"&&t.slot==="Power"){const a=r,l=t;return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(v,{leftValue:a.energyGeneration??0,rightValue:l.energyGeneration??0}),e.jsx(v,{leftValue:a.energyStorage??0,rightValue:l.energyStorage??0}),e.jsx(v,{leftValue:a.powerStability??100,rightValue:l.powerStability??100})]})}}function Le({leftItem:r,rightItem:t}){if(r.slot==="Propulsion"&&t.slot==="Propulsion"){const a=r,l=t;return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(y,{leftValue:a.timePerMove,rightValue:l.timePerMove}),e.jsx(we,{leftPropulsion:a,rightPropulsion:l}),e.jsx(y,{leftValue:a.energyPerMove??0,rightValue:l.energyPerMove??0}),e.jsx(y,{leftValue:a.heatPerMove??0,rightValue:l.heatPerMove??0}),e.jsx(v,{leftValue:a.support,rightValue:l.support}),e.jsx(y,{leftValue:a.penalty,rightValue:l.penalty}),e.jsx(Ve,{leftPropulsion:a,rightPropulsion:l})]})}}function Ae({leftItem:r,rightItem:t}){if((r.slot==="Power"||r.slot==="Propulsion"||r.slot==="Utility")&&(t.slot==="Power"||t.slot==="Propulsion"||t.slot==="Utility")){const a=r,l=t;return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(y,{leftValue:a.energyUpkeep??0,rightValue:l.energyUpkeep??0}),e.jsx(y,{leftValue:a.matterUpkeep??0,rightValue:l.matterUpkeep??0}),e.jsx(y,{leftValue:a.heatGeneration??0,rightValue:l.heatGeneration??0}),e.jsx(p,{})]})}}function Pe({leftItem:r,rightItem:t}){if(r.slot==="Weapon"&&t.slot==="Weapon"){let a=function(i){return i.type==="Slashing Weapon"||i.type==="Impact Weapon"||i.type==="Piercing Weapon"||i.type==="Special Melee Weapon"},l=function(i){return i.type==="Ballistic Gun"||i.type==="Energy Gun"||i.type==="Ballistic Cannon"||i.type==="Energy Cannon"||i.type==="Special Weapon"},s=function(i){return l(i)||i.type==="Launcher"};const o=r,n=t;if(a(o)&&a(n)){let i;return o.damage!==void 0&&n.damage!==void 0&&(i=e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(G,{leftWeapon:o,rightWeapon:n,explosive:!1}),e.jsx(H,{leftWeapon:o,rightWeapon:n,explosive:!1}),e.jsx(z,{leftWeapon:o,rightWeapon:n}),e.jsx(v,{leftValue:o.disruption??0,rightValue:n.disruption??0}),e.jsx(v,{leftValue:o.salvage??0,rightValue:n.salvage??0}),e.jsx(p,{})]})),e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(y,{leftValue:o.shotEnergy??0,rightValue:n.shotEnergy??0}),e.jsx(y,{leftValue:o.shotMatter??0,rightValue:n.shotMatter??0}),e.jsx(y,{leftValue:o.shotHeat??0,rightValue:n.shotHeat??0}),e.jsx(v,{leftValue:o.targeting??0,rightValue:n.targeting??0}),e.jsx(y,{leftValue:o.delay??0,rightValue:n.delay??0}),e.jsx(p,{}),i]})}if(s(o)&&s(n)){let i;return l(o)&&l(n)&&o.damage!==void 0&&n.damage!==void 0?i=e.jsxs(e.Fragment,{children:[e.jsx(v,{leftValue:o.projectileCount,rightValue:n.projectileCount}),e.jsx(G,{leftWeapon:o,rightWeapon:n,explosive:!1}),e.jsx(H,{leftWeapon:o,rightWeapon:n,explosive:!1}),e.jsx(z,{leftWeapon:o,rightWeapon:n}),e.jsx(Te,{leftWeapon:o,rightWeapon:n}),e.jsx(K,{leftWeapon:o,rightWeapon:n,explosive:!1}),e.jsx(v,{leftValue:o.disruption??0,rightValue:n.disruption??0}),e.jsx(v,{leftValue:o.salvage??0,rightValue:n.salvage??0}),e.jsx(p,{})]}):o.type==="Launcher"&&n.type==="Launcher"&&(i=e.jsxs(e.Fragment,{children:[e.jsx(v,{leftValue:o.projectileCount,rightValue:n.projectileCount}),e.jsx(v,{leftValue:o.explosionRadius??0,rightValue:n.explosionRadius??0}),e.jsx(G,{leftWeapon:o,rightWeapon:n,explosive:!0}),e.jsx(y,{leftValue:o.falloff??0,rightValue:n.falloff??0}),e.jsx(Se,{leftWeapon:o,rightWeapon:n}),e.jsx(H,{leftWeapon:o,rightWeapon:n,explosive:!0}),e.jsx(K,{leftWeapon:o,rightWeapon:n,explosive:!0}),e.jsx(v,{leftValue:o.explosionDisruption??0,rightValue:n.explosionDisruption??0}),e.jsx(v,{leftValue:o.explosionSalvage??0,rightValue:n.explosionSalvage??0}),e.jsx(p,{})]})),e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx(v,{leftValue:o.range??0,rightValue:n.range??0}),e.jsx(y,{leftValue:o.shotEnergy??0,rightValue:n.shotEnergy??0}),e.jsx(y,{leftValue:o.shotMatter??0,rightValue:n.shotMatter??0}),e.jsx(y,{leftValue:o.shotHeat??0,rightValue:n.shotHeat??0}),e.jsx(y,{leftValue:o.recoil??0,rightValue:n.recoil??0}),e.jsx(v,{leftValue:o.targeting??0,rightValue:n.targeting??0}),e.jsx(y,{leftValue:o.delay??0,rightValue:n.delay??0}),e.jsx(v,{leftValue:o.overloadStability??100,rightValue:n.overloadStability??100}),e.jsx(Ce,{leftWeapon:o,rightWeapon:n}),e.jsx(p,{}),i]})}}}function Me({leftItem:r,rightItem:t}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item-art-image-container part-comparison-image-container"}),e.jsx(p,{}),e.jsx("pre",{className:"comparison-neutral details-item-image-title"}),e.jsx("pre",{className:"details-summary",children:"Comparison"}),e.jsx("pre",{className:"comparison-sprite-line"}),e.jsx(p,{}),e.jsx(p,{}),e.jsx(y,{leftValue:r.mass??0,rightValue:t.mass??0}),e.jsx(De,{leftItem:r,rightItem:t}),e.jsx(v,{leftValue:r.integrity,rightValue:t.integrity}),e.jsx(v,{leftValue:r.coverage??0,rightValue:t.coverage??0}),e.jsx(p,{}),e.jsx(p,{}),e.jsx(p,{}),e.jsx(p,{}),e.jsx(Ae,{leftItem:r,rightItem:t}),e.jsx(Ne,{leftItem:r,rightItem:t}),e.jsx(Le,{leftItem:r,rightItem:t}),e.jsx(Pe,{leftItem:r,rightItem:t})]})}function Ee({itemData:r,items:t,pageState:a,setPageState:l}){const s=ee(),o=t.map(u=>({value:u.name}));function n({itemName:u,setItem:m}){return e.jsx(L,{value:o.find(h=>h.value===u)||{value:{itemName:u}},onChange:h=>{m(h.value)},options:o})}const i=r.getItem(a.compareLeftItem||"Lgt. Assault Rifle"),c=r.getItem(a.compareRightItem||"Assault Rifle");return e.jsxs("div",{className:"comparison-container",children:[e.jsxs("div",{className:"part-comparison-part-column",children:[e.jsx(n,{itemName:i.name,setItem:u=>{l({...a,compareLeftItem:u})}}),e.jsx(I,{item:i,showWikiLink:!0})]}),e.jsxs("div",{className:"part-comparison-details-column",children:[e.jsx(Z,{className:s==="Cogmind"?"swap-button-cogmind":"swap-button",tooltip:"Swaps the left and right items in the comparison",onClick:()=>{l({...a,compareLeftItem:c.name,compareRightItem:i.name})},children:"← Swap →"}),e.jsx("div",{children:e.jsx(Me,{leftItem:i,rightItem:c})})]}),e.jsxs("div",{className:"part-comparison-part-column",children:[e.jsx(n,{itemName:c.name,setItem:u=>{l({...a,compareRightItem:u})}}),e.jsx(I,{item:c,showWikiLink:!0})]})]})}const Re=[{value:"Simple",tooltip:"Part name viewer with clickable parts to show part detail."},{value:"Comparison",tooltip:"Side-by-side part comparison that shows details of both selected parts."},{value:"Spreadsheet",tooltip:"Spreadsheet view that shows all applicable stats. Stats are filtered depending on the selected slot."},{value:"Gallery",tooltip:"Gallery image viewer. Similar to simple view but shows the art of all parts in a grid as well as the names."}],Ge=[{value:"Any"},{value:"N/A",label:"Other"},{value:"Power"},{value:"Propulsion"},{value:"Utility"},{value:"Weapon"}],X=[{value:"Any"},{value:"Engine"},{value:"Power Core"},{value:"Reactor"}],_=[{value:"Any"},{value:"Flight Unit"},{value:"Hover Unit"},{value:"Wheel"},{value:"Leg"},{value:"Treads"}],J=[{value:"Any"},{value:"Artifact"},{value:"Device"},{value:"Hackware"},{value:"Processor"},{value:"Protection"},{value:"Storage"}],Y=[{value:"Any"},{value:"Ballistic Cannon"},{value:"Ballistic Gun"},{value:"Energy Cannon"},{value:"Energy Gun"},{value:"Launcher"},{value:"Impact Weapon"},{value:"Piercing Weapon"},{value:"Slashing Weapon"},{value:"Special Melee Weapon"},{value:"Special Weapon"}],N=[];N.push(...X);N.push(..._.slice(1));N.push(...J.slice(1));N.push(...Y.slice(1));N.sort((r,t)=>r.value.localeCompare(t.value));const He=[{value:"Any",tooltip:"All parts."},{value:"0b10",tooltip:"Parts that can be found on any standard complex floors or complex-controlled branches."},{value:"Alien",tooltip:"All Sigix-related alien artifacts."},{value:"Derelict",tooltip:"Derelict-created parts, either found in derelict-controlled areas or on unique derelicts.",spoiler:"Spoiler"},{value:"Architects",tooltip:"Parts found on Architect-faction related bots.",spoiler:"Redacted"},{value:"Exile",tooltip:"Exile vault items and unique Exile bot parts."},{value:"Golem",tooltip:"Parts created by the GOLEM Unit.",spoiler:"Spoiler"},{value:"Heroes",tooltip:"Parts unique to the Heroes of Zion.",spoiler:"Spoiler"},{value:"Lab",tooltip:"Parts that can be found in the hidden Lab.",spoiler:"Redacted"},{value:"Quarantine",tooltip:"Parts that can be found in Quarantine.",spoiler:"Spoiler"},{value:"Protoforge",tooltip:"Parts that can be found in Protoforge.",spoiler:"Redacted"},{value:"S7 Guarded",tooltip:"Parts that can be found in Section 7 suspension chambers guarded by S7 Guards.",spoiler:"Redacted"},{value:"S7 Hangar",tooltip:"Parts that can be found in the Section 7 spaceship chamber.",spoiler:"Redacted"},{value:"S7 LRC Lab",tooltip:"Parts that can be found in the Section 7 LRC label. LRC parts are found in the locked room with a Terminal, the others are found in suspension chambers.",spoiler:"Redacted"},{value:"S7 Unguarded",tooltip:"Parts that can be found in unguarded Section 7 suspension chambers.",spoiler:"Redacted"},{value:"Testing",tooltip:"Parts that can be found in Testing.",spoiler:"Spoiler"},{value:"Unobtainable",tooltip:"Parts that are not obtainable by normal gameplay."},{value:"UFD",tooltip:"Parts that can be found in Scraptown or are related to the United Federation of Derelicts",spoiler:"Spoiler"},{value:"Unchained",tooltip:"Parts found on 0b10 Unchained related bots.",spoiler:"Spoiler"},{value:"Warlord",tooltip:"Parts that are obtainable in the Warlord map, or on Warlord-aligned bots",spoiler:"Spoiler"},{value:"Zion",tooltip:"Parts that are obtainable in Zion.",spoiler:"Spoiler"},{value:"Zionite",tooltip:"Parts that are obtainable from Imprinter-aligned Zionites. Some are obtainable in Zion Deep Caves, and some are only obtainable by Imprinting.",spoiler:"Spoiler"}],Ue=[{value:"Level 1"},{value:"Level 2"},{value:"Level 3"}],P=[{value:"Alphabetical"},{value:"Gallery"},{value:"Coverage"},{value:"Integrity"},{value:"Mass"},{value:"Rating"},{value:"Size"},{value:"Arc"},{value:"Critical"},{value:"Damage"},{value:"Delay"},{value:"Disruption"},{value:"Drag"},{value:"Energy/Move"},{value:"Energy Generation"},{value:"Energy Storage"},{value:"Energy Upkeep"},{value:"Explosion Radius"},{value:"Falloff"},{value:"Heat/Move"},{value:"Heat Generation"},{value:"Heat Transfer"},{value:"Matter Upkeep"},{value:"Penalty"},{value:"Projectile Count"},{value:"Range"},{value:"Recoil"},{value:"Salvage"},{value:"Shot Energy"},{value:"Shot Heat"},{value:"Shot Matter"},{value:"Spectrum"},{value:"Support"},{value:"Targeting"},{value:"Time/Move"},{value:"Waypoints"}],U=[{value:"None"},...P],D=[{value:"Ascending"},{value:"Descending"}];function Fe({pageState:r,setPageState:t}){function a({options:l}){const s=l.find(o=>o.value===r.slotType)||l[0];return e.jsx(Q,{label:"Type",className:"slot-type-select",isSearchable:!1,options:l,tooltip:"Additional filter based on the sub-type of the part based on slot.",value:s,onChange:o=>{t({...r,slotType:o.value})}})}switch(r.slot){case"Power":return e.jsx(a,{options:X});case"Propulsion":return e.jsx(a,{options:_});case"Utility":return e.jsx(a,{options:J});case"Weapon":return e.jsx(a,{options:Y})}return e.jsx(a,{options:N})}function Oe({pageState:r,setPageState:t}){const a=W(),l=He.filter(s=>q(s.spoiler||"None",a));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-input-group",children:[e.jsx(w,{label:"Name",placeholder:"Any",tooltip:"The name of a part to search for.",value:r.name||"",onChange:s=>{t({...r,name:s})}}),e.jsx(w,{label:"Effect",placeholder:"Any",tooltip:"The text to search for the description or effect of a part.",value:r.effect||"",onChange:s=>{t({...r,effect:s})}}),e.jsx(R,{label:"Mode",buttons:Re,className:"flex-grow-0",tooltip:"The mode to display the parts in.",selected:r.mode,onValueChanged:s=>{t({...r,mode:s})}}),e.jsx(Z,{className:"flex-grow-0",tooltip:"Resets all filters to their default (unfiltered) state",onClick:()=>{t({mode:r.mode})},children:"Reset"})]}),e.jsxs("div",{className:"page-input-group",children:[e.jsx(w,{label:"Rating",placeholder:"Any",tooltip:"The rating of the part. Use * to search for prototypes only. Add a + at the end to include larger values, a - at the end to include smaller values, or a - between two values to include a range.",value:r.rating||"",onChange:s=>{t({...r,rating:s})}}),e.jsx(w,{label:"Size",placeholder:"Any",tooltip:"The size of the part (aka # of slots). Add a + at the end to include larger values, a - at the end to include smaller values, or a - between two values to include a range.",value:r.size||"",onChange:s=>{t({...r,size:s})}}),e.jsx(w,{label:"Mass",placeholder:"Any",tooltip:"The mass of the part. Add a + at the end to include larger values, a - at the end to include smaller values, or a - between two values to include a range.",value:r.mass||"",onChange:s=>{t({...r,mass:s})}}),e.jsx(Q,{label:"Category",tooltip:"Additional part category like location/faction",className:"category-type-select",isSearchable:!1,options:l,value:l.find(s=>s.value===r.category)||l[0],onChange:s=>{t({...r,category:s.value})}})]}),e.jsxs("div",{className:"page-input-group",children:[e.jsx(R,{label:"Slot",buttons:Ge,flexGrowButtonCount:!0,selected:r.slot,tooltip:"Only shows parts with the matching slot.",onValueChanged:s=>{s!==r.slot&&t({...r,slot:s,slotType:"Any"})}}),e.jsx(Fe,{pageState:r,setPageState:t})]}),e.jsxs("div",{className:"page-input-group",children:[e.jsx(re,{label:"Schematics",tooltip:"Search for hackable schematics."}),e.jsx(w,{label:"Depth",tooltip:"Current map depth. Can enter as 7 or -7.",placeholder:"Any",value:r.schematicsDepth||"",onChange:s=>{t({...r,schematicsDepth:s})}}),e.jsx(R,{label:"Terminal Level",tooltip:"The level of the terminal to hack from. Higher level terminals can hack higher rating schematics.",buttons:Ue,selected:r.terminalLevel,onValueChanged:s=>{t({...r,terminalLevel:s})}})]}),r.mode!=="Spreadsheet"&&e.jsxs("div",{className:"page-input-group",children:[e.jsxs(O,{label:"Sort by",tooltip:"How to sort parts matching all filters.",children:[e.jsx(L,{className:"sort-select",options:P,isSearchable:!1,value:P.find(s=>s.value===r.primarySort)||P[0],onChange:s=>{s.value==="Alphabetical"||s.value==="Gallery"?t({...r,primarySort:s.value,secondarySort:void 0}):r.secondarySort===void 0||r.secondarySort==="None"?t({...r,primarySort:s.value,secondarySort:"Alphabetical"}):t({...r,primarySort:s.value})}}),e.jsx(L,{className:"sort-order-select",options:D,isSearchable:!1,value:D.find(s=>s.value===r.primarySortDirection)||D[0],onChange:s=>{t({...r,primarySortDirection:s.value})}})]}),e.jsxs(O,{label:"Then by",tooltip:"How to sort parts tied by the primary sort.",children:[e.jsx(L,{className:"sort-select",options:U,isSearchable:!1,value:U.find(s=>s.value===r.secondarySort)||U[0],onChange:s=>{t({...r,secondarySort:s.value})}}),e.jsx(L,{className:"sort-order-select",options:D,isSearchable:!1,value:D.find(s=>s.value===r.secondarySortDirection)||D[0],onChange:s=>{t({...r,secondarySortDirection:s.value})}})]})]})]})}const Ie={Any:[],"N/A":ve,Power:me,Propulsion:he,Utility:fe,Weapon:de};function Be({pageState:r,items:t}){const[a,l]=te.useState([]),s=r.slot||"Any",o=Ie[s];return s==="Any"?e.jsx("span",{children:"Please select a slot to see the spreadsheet view."}):e.jsx(ke,{className:"parts-table",columns:o,data:t,setSorting:l,sorting:a,stickyHeader:!0})}function ze(r,t){const a=W();return t.getAllItems().filter(s=>{var n,i;if(!q(s.spoiler,a))return!1;if(r.name){const c=s.name.toLowerCase(),u=r.name.toLowerCase();if(u.length>1){if(!c.includes(u)&&!ie(c).includes(u))return!1}else if(u.length>0&&!c.includes(u))return!1}if(r.effect&&r.effect.length>0){const c=r.effect.toLowerCase();if(!((n=s.description)!=null&&n.toLowerCase().includes(c))&&!((i=s.effect)!=null&&i.toLowerCase().includes(c)))return!1}if(r.rating&&r.rating.length>0){let c=function(m){return m.slice(-1)==="*"?parseFloat(m.slice(0,m.lastIndexOf("*")))+.5:parseFloat(m)},u=r.rating.includes("-");if(u){const m=r.rating.split("-");if(m.length===2&&m[1]!==""){const h=c(m[0]),x=c(m[1]);if(s.rating<h||s.rating>x)return!1}else u=!1}if(!u){const m=r.rating.endsWith("+"),h=r.rating.endsWith("-"),x=r.rating.replace("+","").replace("-",""),f=c(x);if(m){if(s.rating<f)return!1}else if(h){if(s.rating>f)return!1}else if(x==="*"){if(!s.ratingString.includes("*"))return!1}else if(s.rating!==f)return!1}}function o(c,u){let m=u.includes("-");if(m){const h=u.split("-");if(h.length===2&&h[1]!==""){const x=parseFloat(h[0]),f=parseFloat(h[1]);if(c<x||c>f)return!1}else m=!1}if(!m){const h=u.endsWith("+"),x=u.endsWith("-"),f=u.replace("+","").replace("-",""),g=parseFloat(f);if(h){if(c<g)return!1}else if(x){if(c>g)return!1}else if(c!==g)return!1}return!0}if(r.size&&r.size.length>0&&!o(s.size,r.size)||r.mass&&r.mass.length>0&&!o(s.mass??0,r.mass)||r.category&&r.category!=="Any"&&!s.categories.includes(r.category)||r.slot&&r.slot!=="Any"&&s.slot!==r.slot||r.slotType&&r.slotType!=="Any"&&s.type!==r.slotType)return!1;if(r.schematicsDepth&&r.schematicsDepth.length>0){const c=Math.abs(parseInt(r.schematicsDepth));if(!Number.isNaN(c)){if(!s.hackable)return!1;let u=1;if(r.terminalLevel==="Level 2"?u=2:r.terminalLevel==="Level 3"&&(u=3),10-c+u<Math.ceil(s.rating))return!1}}return!0})}function Ke(){const r=ne();return oe(r,{})}const F={Alphabetical:{key:"name",sort:be},Gallery:{sort:le},Rating:{key:"rating",sort:d},Size:{key:"size",sort:d},Mass:{key:"mass",sort:d},Integrity:{key:"integrity",sort:d},Coverage:{key:"coverage",sort:d},Arc:{key:"arc",sort:d},Critical:{key:"criticalString",sort:je},Damage:{keys:["damage","explosionDamage"],sort:ge},Delay:{key:"delay",sort:d},Disruption:{keys:["disruption","explosionDisruption"],sort:d},Drag:{key:"drag",sort:d},"Energy/Move":{key:"energyPerMove",sort:d},"Energy Generation":{key:"energyGeneration",sort:d},"Energy Storage":{key:"energyStorage",sort:d},"Energy Upkeep":{key:"energyUpkeep",sort:d},"Explosion Radius":{key:"explosionRadius",sort:d},Falloff:{key:"falloff",sort:d},"Heat/Move":{key:"heatPerMove",sort:d},"Heat Generation":{key:"heatGeneration",sort:d},"Heat Transfer":{keys:["heatTransfer","explosionHeatTransfer"],sort:xe},"Matter Upkeep":{key:"matterUpkeep",sort:d},Penalty:{key:"penalty",sort:d},"Projectile Count":{key:"projectileCount",sort:d},Range:{key:"range",sort:d},Recoil:{key:"recoil",sort:d},Salvage:{keys:["salvage","explosionSalvage"],sort:d},"Shot Energy":{key:"shotEnergy",sort:d},"Shot Heat":{key:"shotHeat",sort:d},"Shot Matter":{key:"shotMatter",sort:d},Spectrum:{keys:["spectrum","explosionSpectrum"],sort:ye},Support:{key:"support",sort:d},Targeting:{key:"targeting",sort:d},"Time/Move":{key:"timePerMove",sort:d},Waypoints:{key:"waypoints",sort:d}};function Ze(r,t){const a=t.mode==="Spreadsheet",l=a?F.Gallery:F[t.primarySort||"Alphabetical"],s="key"in l?[l.key]:"keys"in l?l.keys:[],o=l.sort;if(r.sort((f,g)=>{if(s.length===0)return o(f,g);const b=s.find(C=>C in f&&f[C]!==void 0),k=s.find(C=>C in g&&g[C]!==void 0);return o(f[b],g[k])}),a||(t.primarySortDirection==="Descending"&&r.reverse(),t.secondarySort===void 0||t.secondarySort==="None")||s.length===0)return r;const n=F[t.secondarySort],i="key"in n?[n.key]:"keys"in n?n.keys:[],c=n.sort,u={},m=[];r.forEach(f=>{const g=s.find(k=>k in f&&f[k]!==void 0),b=f[g];b in u?u[b].push(f):(u[b]=[f],m.push(b))}),m.forEach(f=>{u[f].sort((b,k)=>{if(i.length===0)return c(b,k);const C=i.find(E=>E in b),$=i.find(E=>E in k);return c(b[C],k[$])})});const h=t.secondarySortDirection==="Descending";let x=[];return m.forEach(f=>{h&&u[f].reverse(),x=x.concat(u[f])}),x}function We(r,t){const a=r;return a==="mode"&&t.mode==="Simple"||a==="terminalLevel"&&t.terminalLevel==="Level 1"||a==="slot"&&t.slot==="Any"||a==="slotType"&&t.slotType==="Any"||a==="category"&&t.category==="Any"||a==="primarySort"&&t.primarySort==="Alphabetical"||a==="primarySortDirection"&&t.primarySortDirection==="Ascending"||a==="secondarySortDirection"&&t.secondarySortDirection==="Ascending"}function qe({items:r}){const t=r.map(a=>e.jsx(ce,{item:a},a.name));return e.jsx("div",{className:"part-gallery-grid",children:t})}function Qe({items:r}){const t=r.map(a=>e.jsx(pe,{item:a,showWikiLink:!0},a.name));return e.jsx("div",{className:"part-button-grid",children:t})}function er(){const r=ue(),[t,a]=se(),l=Ke();function s(i){const c=ae("/parts",i,We);a(c,{replace:!0})}const o=Ze(ze(l,r),l);let n;switch(l.mode){case"Simple":default:n=e.jsx(Qe,{items:o});break;case"Comparison":n=e.jsx(Ee,{items:o,itemData:r,pageState:l,setPageState:s});break;case"Gallery":n=e.jsx(qe,{items:o});break;case"Spreadsheet":n=e.jsx(Be,{items:o,pageState:l});break}return e.jsxs("div",{className:"page-content",children:[e.jsx(Oe,{pageState:l,setPageState:s}),n]})}export{er as default};
