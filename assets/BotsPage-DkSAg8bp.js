import{u as y,a as x,c as g,j as n,b as u,d as m,B as K,g as S,e as b,p as C,l as E,R as P,f as p}from"./index-3bkAKnw_.js";import{u as A}from"./BotDetails-D4CyqpDB.js";import{B as f}from"./BotPopover-EJDp8HV1.js";import{T}from"./Table-BzP3-aKL.js";/* empty css              */import"./bots-Bp2ek_k2.js";import"./lore-08CTWJsY.js";import"./simulatorCalcs-CP4iwRJy.js";import"./ItemPopover-Cv3EpbQ6.js";import"./items-Dv7HSrcJ.js";const D=[{value:"Simple"},{value:"Spreadsheet"}],j=[{value:"Any"},{value:"Architect",spoiler:"Redacted",tooltip:"Any Architect or Architect-related bots."},{value:"0b10",tooltip:"Any standard or prototype 0b10 bots."},{value:"Derelict",tooltip:"Any non-0b10 Derelict bots."},{value:"Exiles",tooltip:"Any Exiles or Exiles-related bots."},{value:"UFD",spoiler:"Spoiler",tooltip:"Any United Federation of Derelict (Scraptown) or related bots"},{value:"Unchained",spoiler:"Spoiler",tooltip:"Any Unchained or related bots"},{value:"Warlord",spoiler:"Spoiler",tooltip:"Any Warlord-related bots"},{value:"Zionite",spoiler:"Spoiler",tooltip:"Any Zion-related bots including Imprint-related bots"}],F=[{header:"Overview",columns:[{accessorKey:"name",header:"Name",size:12,maxSize:12,cell:e=>n.jsx(f,{className:"name-popover",bot:e.row.original})},{accessorKey:"class",header:"Class",size:12,maxSize:12},{accessorKey:"size",header:"Size"},{accessorKey:"profile",header:"Profile"},{accessorKey:"rating",header:"Rating"},{accessorKey:"tier",header:"Tier"},{accessorKey:"threat",header:"Threat"},{accessorKey:"value",header:"Value"},{accessorKey:"energyGeneration",header:"Energy Generation"},{accessorKey:"innateEnergy",header:"Innate Energy Generation"},{accessorKey:"energyStorage",header:"Energy Storage"},{accessorKey:"innateEnergyStorage",header:"Innate Energy Storage"},{accessorKey:"netEnergyPerTurn",header:"Net Energy/Turn"},{accessorKey:"netEnergyPerMove",header:"Net Energy/Move"},{accessorKey:"netEnergyPerVolley",header:"Net Energy/Volley"},{accessorKey:"matterStorage",header:"Matter Storage"},{accessorKey:"innateMatterStorage",header:"Innate Matter Storage"},{accessorKey:"heatDissipation",header:"Heat Dissipation"},{accessorKey:"injectorDissipation",header:"Coolant Injector Dissipation"},{accessorKey:"netHeatPerTurn",header:"Net Heat/Turn"},{accessorKey:"netHeatPerMove",header:"Net Heat/Move"},{accessorKey:"netHeatPerVolley",header:"Net Heat/Volley"},{accessorKey:"visualRange",header:"Visual Range"},{accessorKey:"memory",header:"Memory"},{accessorKey:"spotPercent",header:"Spot %"},{accessorKey:"movement",header:"Movement",sortingFn:(e,a,r)=>V(e.getValue(r),a.getValue(r)),size:10,maxSize:10},{accessorKey:"coreIntegrity",header:"Core Integrity"},{accessorKey:"coreExposure",header:"Core Exposure"},{accessorKey:"salvagePotential",header:"Salvage Potential",sortingFn:(e,a,r)=>N(e.getValue(r),a.getValue(r))}]},{header:"Parts",columns:[{accessorKey:"armamentString",header:"Armament",size:25},{accessorKey:"componentsString",header:"Components",size:60}]},{header:"Resistances",columns:[{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Electromagnetic},header:"Electromagnetic"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Explosive},header:"Explosive"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Impact},header:"Impact"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Kinetic},header:"Kinetic"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Piercing},header:"Piercing"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Slashing},header:"Slashing"},{accessorFn:e=>{var a;return(a=e.resistances)==null?void 0:a.Thermal},header:"Thermal"}]},{header:"Combat",columns:[{accessorFn:e=>{var a;return((a=e.damagePerTurn)==null?void 0:a.toFixed(0))||0},header:"Damage/Turn"},{accessorFn:e=>{var a;return((a=e.damagePerVolley)==null?void 0:a.toFixed(0))||0},header:"Damage/Volley"},{accessorFn:e=>e.volleyTime||0,header:"Volley Time"}]},{header:"Other",columns:[{accessorKey:"immunitiesString",header:"Immunities",size:15},{accessorKey:"traitsString",header:"Traits",size:60}]}],h=/\((\d*)/;function V(e,a){const r=p(h.exec(e)[1],0),l=p(h.exec(a)[1],0);return r-l}function N(e,a){function r(s){if(typeof s!="string"||s==="")return 0;const o=s.split("~").map(c=>c.trim()).map(c=>parseInt(c));return o.reduce((c,d)=>c+d,0)/o.length}const l=r(e),t=r(a);return l-t}function B(e,a){const r=y(),l=a.getAllBots().filter(t=>{if(!g(t.spoiler,r))return!1;if(e.name&&e.name.length>0){const s=e.name.toLowerCase(),o=t.name.toLowerCase();if(!o.includes(s)&&!E(o).includes(s))return!1}if(e.class&&e.class.length>0&&!t.class.toLowerCase().includes(e.class.toLowerCase()))return!1;if(e.part&&e.part.length>0){const s=e.part.toLowerCase();if(!t.armamentData.find(o=>o.name.toLowerCase().includes(s))&&!t.componentData.find(o=>o.name.toLowerCase().includes(s))&&!t.armamentOptionData.find(o=>o.find(c=>c.name.toLowerCase().includes(s)))&&!t.componentOptionData.find(o=>o.find(c=>c.name.toLowerCase().includes(s))))return!1}return!(e.faction&&e.faction!=="Any"&&!t.categories.includes(e.faction))});return l.sort((t,s)=>t.name.localeCompare(s.name)),l}function w(){const e=b();return C(e,{})}function L(e,a){const r=e;return r==="mode"&&a.mode==="Simple"||r==="faction"&&a.faction==="Any"}function z({bots:e}){const a=e.map(r=>n.jsx(f,{bot:r},r.name));return n.jsx("div",{className:"bot-button-grid",children:a})}function M({bots:e}){const[a,r]=P.useState([]);return n.jsx(T,{className:"table",data:e,columns:F,setSorting:r,sorting:a,stickyHeader:!0})}function q(){const e=A(),a=y(),[r,l]=x(),t=w();function s(i){const v=S("/bots",i,L);l(v,{replace:!0})}const o=B(t,e);let c;t.mode==="Spreadsheet"?c=n.jsx(M,{bots:o}):c=n.jsx(z,{bots:o});const d=j.filter(i=>g(i.spoiler||"None",a));return n.jsxs("div",{className:"page-content",children:[n.jsxs("div",{className:"page-input-group",children:[n.jsx(u,{label:"Name",placeholder:"Any",tooltip:"The name of a bot to search for.",value:t.name||"",onChange:i=>{s({...t,name:i})}}),n.jsx(u,{label:"Class",placeholder:"Any",tooltip:"The class of a bot to search for.",value:t.class||"",onChange:i=>{s({...t,class:i})}}),n.jsx(u,{label:"Part",placeholder:"Any",tooltip:"The name of a part to search for.",value:t.part||"",onChange:i=>{s({...t,part:i})}}),n.jsx(m,{label:"Mode",buttons:D,className:"flex-grow-0",tooltip:"The mode to display the parts in.",selected:t.mode,onValueChanged:i=>{s({...t,mode:i})}}),n.jsx(K,{className:"flex-grow-0",tooltip:"Resets all filters to their default (unfiltered) state",onClick:()=>{s({mode:t.mode})},children:"Reset"})]}),n.jsx("div",{className:"page-input-group",children:n.jsx(m,{label:"Faction",buttons:d,tooltip:"The mode to display the bots in.",selected:t.faction,onValueChanged:i=>{s({...t,faction:i})}})}),c]})}export{q as default};
